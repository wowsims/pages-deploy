import{J as e,K as a,L as t,m as s,k as n,N as l,l as i,n as r,o,O as d,Q as c,U as p,V as h,R as u,T as I,H as m,x as S}from"./preset_utils-Bx_qPZZK.chunk.js";import{a7 as f,aA as v,S as g,a8 as k,aB as P,aa as T,ay as y,ar as O,as as A,ab as C,ac as M,ad as w,av as b,ah as E,aC as F,ai as R,a6 as L,aj as B,ak as D,am as x,P as G,an as K,az as H,aD as U,al as N,ae as j,ao as W,a1 as q,ap as V,C as z,F as J,a as _,T as Q}from"./detailed_results-CJY9MGga.chunk.js";e({fieldName:"latencyMs",label:"Latency",labelTooltip:"Player latency, in milliseconds. Adds a delay to actions that cannot be spell queued."});const Z={inputs:[a({fieldName:"minCombosForRip",label:"Min Rip CP",labelTooltip:"Combo Point threshold for allowing a Rip cast",float:!1,positive:!0}),a({fieldName:"maxWaitTime",label:"Max Wait Time",labelTooltip:"Max seconds to wait for an Energy tick to cast rather than powershifting",float:!0,positive:!0}),t({fieldName:"maintainFaerieFire",label:"Maintain Faerie Fire",labelTooltip:"If checked, bundle Faerie Fire refreshes with powershifts. Ignored if an external Faerie Fire debuff is selected in settings."}),t({fieldName:"precastTigersFury",label:"Pre-cast Tiger's Fury",labelTooltip:"If checked, model a pre-pull Tiger's Fury cast 3 seconds before initiating combat."}),t({fieldName:"useShredTrick",label:"Use Shred Trick",labelTooltip:'If checked, enable the "Shred trick" micro-optimization. This should only be used on short fight lengths with full powershifting uptime.'})]},X={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{spellId:17392,rank:4}}},doAtValue:{const:{val:"-1.0s"}}},{action:{castSpell:{spellId:{spellId:9846,rank:4}}},doAtValue:{const:{val:"-3.5s"}}}],priorityList:[{action:{condition:{and:{vals:[{cmp:{op:"OpLe",lhs:{auraRemainingTime:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:17392,rank:4}}},rhs:{const:{val:"1.0"}}}},{cmp:{op:"OpLe",lhs:{auraRemainingTime:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:9907,rank:4}}},rhs:{const:{val:"1.0"}}}}]}},castSpell:{spellId:{spellId:17392,rank:4}}}},{action:{condition:{and:{vals:[{auraIsActive:{auraId:{spellId:768}}},{spellIsKnown:{spellId:{spellId:13494}}},{not:{val:{auraIsActive:{auraId:{spellId:13494}}}}},{cmp:{op:"OpLt",lhs:{currentTime:{}},rhs:{const:{val:"90.0"}}}}]}},castSpell:{spellId:{spellId:13494}}}},{action:{condition:{auraIsActive:{auraId:{spellId:768}}},autocastOtherCooldowns:{}}},{action:{condition:{and:{vals:[{auraIsKnown:{auraId:{spellId:17061,rank:5}}},{cmp:{op:"OpGe",lhs:{currentMana:{}},rhs:{spellCurrentCost:{spellId:{spellId:768}}}}},{gcdIsReady:{}},{and:{vals:[{auraIsKnown:{auraId:{spellId:16870}}},{auraIsActive:{auraId:{spellId:16870}}},{cmp:{op:"OpLt",lhs:{currentEnergy:{}},rhs:{const:{val:"27.8"}}}}]}}]}},cancelAura:{auraId:{spellId:768}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpEq",lhs:{currentComboPoints:{}},rhs:{const:{val:"5.0"}}}},{not:{val:{auraIsActive:{auraId:{spellId:16870}}}}},{cmp:{op:"OpLt",lhs:{math:{op:"OpAdd",lhs:{currentEnergy:{}},rhs:{const:{val:"20.2"}}}},rhs:{math:{op:"OpAdd",lhs:{spellCurrentCost:{spellId:{spellId:9830,rank:5}}},rhs:{spellCurrentCost:{spellId:{spellId:31018,rank:4}}}}}}}]}},castSpell:{spellId:{spellId:31018,rank:4}}}},{action:{castSpell:{spellId:{spellId:9830,rank:5}}}},{action:{condition:{and:{vals:[{auraIsKnown:{auraId:{spellId:17061,rank:5}}},{cmp:{op:"OpGe",lhs:{currentMana:{}},rhs:{spellCurrentCost:{spellId:{spellId:768}}}}},{cmp:{op:"OpGt",lhs:{timeToEnergyTick:{}},rhs:{const:{val:"1.02"}}}}]}},castSpell:{spellId:{spellId:9850,rank:5}}}},{action:{condition:{and:{vals:[{auraIsKnown:{auraId:{spellId:17061,rank:5}}},{cmp:{op:"OpGe",lhs:{currentMana:{}},rhs:{spellCurrentCost:{spellId:{spellId:768}}}}},{gcdIsReady:{}},{or:{vals:[{and:{vals:[{cmp:{op:"OpLt",lhs:{currentComboPoints:{}},rhs:{const:{val:"5.0"}}}},{cmp:{op:"OpLt",lhs:{math:{op:"OpAdd",lhs:{currentEnergy:{}},rhs:{const:{val:"20.2"}}}},rhs:{spellCurrentCost:{spellId:{spellId:9830,rank:5}}}}}]}},{and:{vals:[{cmp:{op:"OpEq",lhs:{currentComboPoints:{}},rhs:{const:{val:"5.0"}}}},{cmp:{op:"OpLt",lhs:{math:{op:"OpAdd",lhs:{currentEnergy:{}},rhs:{const:{val:"20.2"}}}},rhs:{spellCurrentCost:{spellId:{spellId:31018,rank:4}}}}}]}},{and:{vals:[{auraIsKnown:{auraId:{spellId:16870}}},{auraIsActive:{auraId:{spellId:16870}}},{cmp:{op:"OpLt",lhs:{currentEnergy:{}},rhs:{const:{val:"27.8"}}}}]}}]}}]}},cancelAura:{auraId:{spellId:768}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLe",lhs:{auraRemainingTime:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:17392,rank:4}}},rhs:{const:{val:"14.0"}}}},{cmp:{op:"OpLe",lhs:{auraRemainingTime:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:9907,rank:4}}},rhs:{const:{val:"14.0"}}}}]}},castSpell:{spellId:{spellId:17392,rank:4}}}},{action:{condition:{not:{val:{auraIsActive:{auraId:{spellId:768}}}}},castSpell:{spellId:{itemId:10646}}}},{action:{condition:{and:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:768}}}}},{cmp:{op:"OpLe",lhs:{math:{op:"OpAdd",lhs:{currentMana:{}},rhs:{const:{val:"1500.0"}}}},rhs:{math:{op:"OpDiv",lhs:{currentMana:{}},rhs:{currentManaPercent:{}}}}}}]}},castSpell:{spellId:{itemId:12662}}}},{action:{condition:{and:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:768}}}}},{cmp:{op:"OpLe",lhs:{math:{op:"OpAdd",lhs:{currentMana:{}},rhs:{const:{val:"2250.0"}}}},rhs:{math:{op:"OpDiv",lhs:{currentMana:{}},rhs:{currentManaPercent:{}}}}}}]}},castSpell:{spellId:{otherId:"OtherActionPotion"}}}},{action:{condition:{and:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:768}}}}},{cmp:{op:"OpLe",lhs:{currentManaPercent:{}},rhs:{const:{val:"80%"}}}},{not:{val:{or:{vals:[{and:{vals:[{spellIsKnown:{spellId:{itemId:12662}}},{spellIsReady:{spellId:{itemId:12662}}}]}},{and:{vals:[{spellIsKnown:{spellId:{otherId:"OtherActionPotion"}}},{spellIsReady:{spellId:{otherId:"OtherActionPotion"}}}]}}]}}}}]}},castSpell:{spellId:{spellId:23724}}}},{action:{condition:{and:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:768}}}}},{cmp:{op:"OpLe",lhs:{currentManaPercent:{}},rhs:{const:{val:"40%"}}}},{cmp:{op:"OpGe",lhs:{remainingTime:{}},rhs:{const:{val:"20.0"}}}},{not:{val:{or:{vals:[{and:{vals:[{spellIsKnown:{spellId:{itemId:12662}}},{spellIsReady:{spellId:{itemId:12662}}}]}},{and:{vals:[{spellIsKnown:{spellId:{otherId:"OtherActionPotion"}}},{spellIsReady:{spellId:{otherId:"OtherActionPotion"}}}]}}]}}}}]}},castSpell:{spellId:{spellId:29166}}}},{action:{condition:{not:{val:{auraIsActive:{auraId:{spellId:768}}}}},castSpell:{spellId:{spellId:768}}}}]},Y={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{spellId:9846,rank:4}}},doAtValue:{const:{val:"-0s"}}},{action:{castSpell:{spellId:{spellId:13494}}},doAtValue:{const:{val:"-0s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:9846,rank:4}}},rhs:{const:{val:"3"}}}},{cmp:{op:"OpGe",lhs:{currentComboPoints:{}},rhs:{const:{val:"4"}}}}]}},castSpell:{spellId:{spellId:9846,rank:4}}}},{action:{condition:{cmp:{op:"OpEq",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}},castSpell:{spellId:{spellId:31018,rank:4}}}},{action:{castSpell:{spellId:{spellId:9830,rank:5}}}}]},$={items:[{id:8345,enchant:1508},{id:18404},{id:12927},{id:18541,enchant:849},{id:22877,enchant:1891},{id:19146,enchant:1885},{id:15063,enchant:1887},{id:13252},{id:15062,enchant:1508},{id:22852,enchant:1887},{id:17063},{id:19325},{id:13965},{id:11815},{id:9449,enchant:34},{},{}]},ee={items:[{id:8345,enchant:1508},{id:19377},{id:16551},{id:19436,enchant:849},{id:16549,enchant:1891},{id:19587,enchant:1885},{id:16555,enchant:1887},{id:19163},{id:16552,enchant:1508},{id:19381,enchant:1887},{id:17063},{id:19432},{id:19406},{id:13965},{id:9449,enchant:34},{},{}]},ae={items:[{id:8345,enchant:1508},{id:19377},{id:16551,enchant:2606},{id:19436,enchant:849},{id:16549,enchant:1891},{id:19587,enchant:1885},{id:16555,enchant:1887},{id:20216},{id:16552,enchant:1508},{id:19381,enchant:1887},{id:17063},{id:19432},{id:19406},{id:13965},{id:9449,enchant:34},{},{}]},te={items:[{id:8345,enchant:1508},{id:19377},{id:21665,enchant:2606},{id:21710,enchant:849},{id:21680,enchant:1891},{id:21602,enchant:1885},{id:21672,enchant:2564},{id:21586},{id:16552,enchant:1508},{id:21493,enchant:1887},{id:17063},{id:21205},{id:19406},{id:23570},{id:9449,enchant:34},{},{id:22397}]},se={items:[{id:8345,enchant:1508},{id:19377},{id:21665,enchant:2717},{id:21701,enchant:849},{id:21680,enchant:1891},{id:21602,enchant:1885},{id:21672,enchant:2564},{id:21586},{id:23071,enchant:1508},{id:21493,enchant:1887},{id:23038},{id:17063},{id:22954},{id:23206},{id:9449,enchant:34},{},{id:22397}]},ne=s("P2 Pre-BiS",{items:[{id:8345,enchant:1508},{id:15411},{id:12927},{id:13340,enchant:849},{id:14637,enchant:1891},{id:13120,enchant:1885},{id:15063,enchant:1887},{id:13252},{id:15062,enchant:1508},{id:12553,enchant:1887},{id:18500},{id:18500},{id:13965},{id:19120},{id:9449,enchant:34},{},{}]}),le=s("P2 BiS",$),ie=s("P3 BiS",ee),re=s("P4 BiS",ae),oe=s("P5 BiS",te),de=s("P6 BiS",se),ce={[f.Phase4]:[ne,le,ie,re,oe,de]},pe=re,he=n("Feral",X),ue=n("Simple Vaelastrasz",Y),Ie={[f.Phase4]:[he,ue]},me=he,Se=v.create({maintainFaerieFire:!1,minCombosForRip:3,maxWaitTime:2,precastTigersFury:!1,useShredTrick:!1});l("Simple Default",g.SpecFeralDruid,Se);const fe=i("Feral",k.create({talentsString:"500005301-5500021323202151-05"})),ve={[f.Phase4]:[fe]},ge=fe,ke=P.create({latencyMs:100}),Pe=T.create({agilityElixir:y.ElixirOfTheMongoose,attackPowerBuff:O.JujuMight,defaultConjured:A.ConjuredDemonicRune,defaultPotion:C.MajorManaPotion,dragonBreathChili:!0,flask:M.FlaskOfDistilledWisdom,food:w.FoodGrilledSquid,strengthBuff:b.JujuPower,zanzaBuff:E.GroundScorpokAssay,sapperExplosive:F.SapperGoblinSapper}),Te=R.create({arcaneBrilliance:!0,battleShout:L.TristateEffectImproved,divineSpirit:!0,giftOfTheWild:L.TristateEffectImproved,leaderOfThePack:!0,manaSpringTotem:L.TristateEffectRegular,strengthOfEarthTotem:L.TristateEffectImproved,powerWordFortitude:L.TristateEffectImproved}),ye=B.create({blessingOfKings:!0,blessingOfMight:L.TristateEffectImproved,blessingOfWisdom:L.TristateEffectImproved,fengusFerocity:!0,rallyingCryOfTheDragonslayer:!0,saygesFortune:D.SaygesDamage,songflowerSerenade:!0,spiritOfZandalar:!0,warchiefsBlessing:!0}),Oe=x.create({curseOfRecklessness:!0,exposeArmor:L.TristateEffectImproved,faerieFire:!1,sunderArmor:!0}),Ae={profession1:G.Engineering,profession2:G.Leatherworking},Ce=r(g.SpecFeralDruid,{cssClass:"feral-druid-sim-ui",cssScheme:"druid",knownIssues:["The Enchant Gloves - Minor Haste enchant doesn't have its EP of 16.50 show up properly"],warnings:[],epStats:[K.StatMana,K.StatStrength,K.StatAgility,K.StatIntellect,K.StatSpirit,K.StatAttackPower,K.StatFeralAttackPower,K.StatMeleeHit,K.StatMeleeCrit,K.StatExpertise,K.StatMP5],epPseudoStats:[H.BonusPhysicalDamage,H.PseudoStatMeleeSpeedMultiplier],epReferenceStat:K.StatAttackPower,displayStats:[K.StatMana,K.StatStrength,K.StatAgility,K.StatIntellect,K.StatSpirit,K.StatAttackPower,K.StatFeralAttackPower,K.StatMeleeHit,K.StatMeleeCrit,K.StatExpertise,K.StatMP5],displayPseudoStats:[H.BonusPhysicalDamage,H.PseudoStatMeleeSpeedMultiplier],defaults:{gear:pe.gear,epWeights:o.fromMap({[K.StatStrength]:2.4,[K.StatAgility]:2.43,[K.StatIntellect]:.61,[K.StatSpirit]:.38,[K.StatMP5]:.79,[K.StatAttackPower]:1,[K.StatMeleeHit]:26.59,[K.StatMeleeCrit]:28.68,[K.StatExpertise]:26.59,[K.StatMana]:.03,[K.StatFeralAttackPower]:1},{[H.BonusPhysicalDamage]:13.33,[H.PseudoStatMeleeSpeedMultiplier]:16.5}),consumes:Pe,rotationType:U.TypeAPL,simpleRotation:Se,talents:ge.data,specOptions:ke,other:Ae,raidBuffs:Te,partyBuffs:N.create({}),individualBuffs:ye,debuffs:Oe},playerIconInputs:[],rotationInputs:Z,includeBuffDebuffInputs:[d,c,p,h],excludeBuffDebuffInputs:[j.ElementalSharpeningStone,j.DenseSharpeningStone],otherInputs:{inputs:[u,I,m]},itemSwapConfig:{itemSlots:[W.ItemSlotMainHand,W.ItemSlotOffHand,W.ItemSlotRanged]},encounterPicker:{showExecuteProportion:!1},presets:{talents:[...ve[f.Phase4]],rotations:[...Ie[f.Phase4]],gear:[...ce[f.Phase4]]},autoRotation:e=>me.rotation.rotation,raidSimPresets:[{spec:g.SpecFeralDruid,tooltip:q[g.SpecFeralDruid],defaultName:"Cat",iconUrl:V(z.ClassDruid,3),talents:ge.data,specOptions:ke,consumes:Pe,defaultFactionRaces:{[J.Unknown]:_.RaceUnknown,[J.Alliance]:_.RaceNightElf,[J.Horde]:_.RaceTauren},defaultGear:{[J.Unknown]:{},[J.Alliance]:{1:pe.gear},[J.Horde]:{1:pe.gear}}}]});class Me extends S{constructor(e,a){super(e,a,Ce)}calcArpTarget(e){let a=1399;e.hasTrinket(45931)?a-=751:e.hasTrinket(40256)&&(a-=612);const t=e.getEquippedItem(W.ItemSlotMainHand);return null!=t&&null!=t.enchant&&3225==t.enchant.effectId&&(a-=120),a}calcCritCap(e){let a=0;return e.hasRelic(47668)&&(a+=200),e.hasRelic(50456)&&(a+=220),(e.hasTrinket(47131)||e.hasTrinket(47464))&&(a+=510),(e.hasTrinket(47115)||e.hasTrinket(47303))&&(a+=450),(e.hasTrinket(44253)||e.hasTrinket(42987))&&(a+=300),(new o).withStat(K.StatMeleeCrit,45.91*(77.8-1.1*a*1.06*1.02/83.33))}async updateGear(e){return this.player.setGear(Q.nextEventID(),e),await this.sim.updateCharacterStats(Q.nextEventID()),o.fromProto(this.player.getCurrentStats().finalStats)}}export{Me as F};
